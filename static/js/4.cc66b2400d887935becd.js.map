{"version":3,"sources":["webpack:///./src/api/login.js","webpack:///src/pages/login/login.vue","webpack:///./src/pages/login/login.vue?9b20","webpack:///./src/pages/login/login.vue","webpack:///./src/mock/users.js"],"names":["__WEBPACK_IMPORTED_MODULE_0_mockjs___default","a","mock","options","_obj","JSON","parse","body","_userData","__WEBPACK_IMPORTED_MODULE_1_lodash___default","filter","__WEBPACK_IMPORTED_MODULE_2__mock_users_js__","account","length","isLogin","login_login","users","_this","this","validateAll","then","result","password","_data","response","roles","addRoutes","pages_login_login","render","_vm","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","expression","attrs","type","placeholder","autocomplete","domProps","on","input","$event","target","composing","errors","has","_s","first","disabled","delayLoading","click","preventDefault","loginSubmit","staticStyle","font-size","margin","accountArry","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","Random","email","avatar","image"],"mappings":"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","file":"static/js/4.cc66b2400d887935becd.js","sourcesContent":["import Mock from 'mockjs';\r\nimport _ from 'lodash';\r\n\r\nimport usersData from '@/mock/users.js';\r\n\r\nMock.mock('/login', 'post',function(options){\r\n var _obj = JSON.parse(options.body);\r\n\r\n var _userData = _.filter(usersData,{\r\n  'account':_obj.account\r\n });\r\n\r\n if (_userData && _userData.length>0) {\r\n\t_userData[0]['isLogin'] = true;\r\n } else {\r\n \t_userData = [{'isLogin':false}];\r\n }\r\n\r\n return _userData[0];\r\n});\r\n\r\nMock.mock('/logout','get',function(){\r\n return {\r\n  'isLogin':false\r\n };\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/api/login.js","<template>\r\n  <div class=\"login\">\r\n    <form class=\"form-horizontal\">\r\n      <div class=\"control-group-container\">\r\n        <div class=\"control-group\">\r\n          <label class=\"control-label\">账号</label>\r\n          <div class=\"controls\">\r\n            <input type=\"text\" class=\"css-mobile\" name=\"account\" placeholder=\"账号\" v-validate=\"'required'\" v-model=\"account\" autocomplete=\"off\">\r\n          </div>\r\n        </div>\r\n        <div v-show='errors.has(\"account\")' class=\"err-msg\">{{errors.first('account')}}</div>\r\n      </div>\r\n      <div class=\"control-group-container\">\r\n        <div class=\"control-group\">\r\n          <label class=\"control-label\">登录密码</label>\r\n          <div class=\"controls\">\r\n            <input type=\"password\" placeholder=\"随便填\" v-model=\"password\" v-validate=\"'required|numeric'\" name=\"password\">\r\n          </div>\r\n        </div>\r\n        <div v-show='errors.has(\"password\")' class=\"err-msg\">{{errors.first('password')}}</div>\r\n      </div>\r\n      <button class=\"login-btn\" @click.prevent=\"loginSubmit\" :disabled=\"delayLoading\">\r\n        {{ delayLoading ? '正在登录...':'登录'}}\r\n      </button>\r\n      <p style=\"font-size:14px;margin:10px auto;\">管理员账号:{{accountArry[0].account}}</p>\r\n      <p style=\"font-size:14px;margin:10px auto;\">普通账号:{{accountArry[1].account}}</p>\r\n    </form>\r\n  </div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport userData from '@/mock/users.js';\r\nimport '@/api/login.js';\r\n\r\nexport default {\r\n  'name': 'login',\r\n  data() {\r\n    return {\r\n      'delayLoading': false,\r\n      'accountArry': userData,\r\n      'account': '',\r\n      'password': ''\r\n    };\r\n  },\r\n  'methods': {\r\n    loginSubmit() {\r\n      this.$validator.validateAll()\r\n        .then(result => {\r\n          if (result) {\r\n            this.delayLoading = true;\r\n            var _data = {\r\n              'account': this.account,\r\n              'password': this.password\r\n            };\r\n\r\n            this.$http.post('/login', _data)\r\n              .then((response) => {\r\n                if (response.data.isLogin) {\r\n                    this.$store.dispatch('StoreUser/setUser', response.data).then(() => {\r\n                    var _roles = this.$store.getters.userInfo.roles;\r\n\r\n                    this.$store.dispatch('StoreAddRoutes/getRoutes',_roles).then(() => {\r\n                        // 根据roles权限生成可访问的路由表\r\n                        // 动态添加可访问路由表\r\n                        this.$router.addRoutes(this.$store.getters.addRoutes);\r\n\r\n                        const isProduction = process.env.NODE_ENV === 'production';\r\n\r\n                        isProduction ? window.location.replace('https://demo.bnuephjx.com/test-vue-admin.github.io'):window.location.replace('/');\r\n                        // http://demo.bnuephjx.com/test-vue-admin.github.io\r\n                    });\r\n                  });\r\n                } else {\r\n                  this.$Notify({\r\n                    'content':'登录失败',\r\n                    'type':'error'\r\n                  });\r\n                  this.delayLoading = false;\r\n                }\r\n              });\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n    }\r\n  }\r\n};\r\n\r\n</script>\r\n<style lang=\"less\">\r\n.login {\r\n  width: 320px;\r\n  height: 220px;\r\n  margin: 0 auto;\r\n  margin-top: 110px;\r\n  padding: 10px;\r\n  -webkit-transform: translateY(50%);\r\n  -moz-transform: translateY(50%);\r\n  -ms-transform: translateY(50%);\r\n  transform: translateY(50%);\r\n\r\n  .form-horizontal {\r\n    .control-group-container {\r\n      height: 52px;\r\n    }\r\n    .control-group {\r\n      border-bottom: 1px solid #333;\r\n      margin-bottom: 1px;\r\n    }\r\n    .control-label {\r\n      line-height: 18px;\r\n      float: left;\r\n      width: 100px;\r\n      text-align: left;\r\n      color: #333;\r\n      font-size: 14px;\r\n      font-weight: bold;\r\n    }\r\n    .controls {\r\n      margin-left: 100px;\r\n      word-break: break-all;\r\n      -webkit-user-select: none;\r\n      -moz-user-select: none;\r\n      -ms-user-select: none;\r\n      user-select: none;\r\n    }\r\n    .control-group-container input,\r\n    .control-group-container input:focus {\r\n      outline: none;\r\n      border: none;\r\n      -webkit-box-shadow: none;\r\n      box-shadow: none;\r\n      color: #38f;\r\n      text-shadow: 0 0 0 #3333336b;\r\n      -webkit-text-fill-color: transparent;\r\n    }\r\n    .control-group-container input {\r\n      width: 100%;\r\n      height: 20px;\r\n      padding: 4px 6px;\r\n      margin-bottom: 10px;\r\n      font-size: 14px;\r\n      line-height: 20px;\r\n      background-color: #f2f2f2;\r\n    }\r\n    .controls .css-mobile {\r\n      border-radius: 0 2px 2px 0;\r\n    }\r\n    .err-msg {\r\n      font-size: 12px;\r\n      color: #FF4444;\r\n      margin-left: 100px;\r\n      height: 20px;\r\n    }\r\n  }\r\n\r\n  .login-btn {\r\n    width: 100%;\r\n    border: 1px solid #ddd;\r\n    cursor: pointer;\r\n    color: #fff;\r\n    height: 45px;\r\n    background-color: #3388FF;\r\n    border-color: #2277FF;\r\n    border-radius: 2px;\r\n    font-size: 16px;\r\n    margin-top: 15px;\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('form',{staticClass:\"form-horizontal\"},[_c('div',{staticClass:\"control-group-container\"},[_c('div',{staticClass:\"control-group\"},[_c('label',{staticClass:\"control-label\"},[_vm._v(\"账号\")]),_vm._v(\" \"),_c('div',{staticClass:\"controls\"},[_c('input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.account),expression:\"account\"}],staticClass:\"css-mobile\",attrs:{\"type\":\"text\",\"name\":\"account\",\"placeholder\":\"账号\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.account=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has(\"account\")),expression:\"errors.has(\\\"account\\\")\"}],staticClass:\"err-msg\"},[_vm._v(_vm._s(_vm.errors.first('account')))])]),_vm._v(\" \"),_c('div',{staticClass:\"control-group-container\"},[_c('div',{staticClass:\"control-group\"},[_c('label',{staticClass:\"control-label\"},[_vm._v(\"登录密码\")]),_vm._v(\" \"),_c('div',{staticClass:\"controls\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"},{name:\"validate\",rawName:\"v-validate\",value:('required|numeric'),expression:\"'required|numeric'\"}],attrs:{\"type\":\"password\",\"placeholder\":\"随便填\",\"name\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has(\"password\")),expression:\"errors.has(\\\"password\\\")\"}],staticClass:\"err-msg\"},[_vm._v(_vm._s(_vm.errors.first('password')))])]),_vm._v(\" \"),_c('button',{staticClass:\"login-btn\",attrs:{\"disabled\":_vm.delayLoading},on:{\"click\":function($event){$event.preventDefault();return _vm.loginSubmit($event)}}},[_vm._v(\"\\n      \"+_vm._s(_vm.delayLoading ? '正在登录...':'登录')+\"\\n    \")]),_vm._v(\" \"),_c('p',{staticStyle:{\"font-size\":\"14px\",\"margin\":\"10px auto\"}},[_vm._v(\"管理员账号:\"+_vm._s(_vm.accountArry[0].account))]),_vm._v(\" \"),_c('p',{staticStyle:{\"font-size\":\"14px\",\"margin\":\"10px auto\"}},[_vm._v(\"普通账号:\"+_vm._s(_vm.accountArry[1].account))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b7359b3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b7359b3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b7359b3\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login/login.vue\n// module id = null\n// module chunks = ","import Mock from 'mockjs';\r\nvar Random = Mock.Random;\r\n\r\nexport default Mock.mock([{\r\n 'name':'@cname()',\r\n 'account': Random.email(), //名称\r\n 'roles': ['admin'], //权限\r\n 'avatar': Random.image('32x32', '#4A7BF7', '#FFFFFF', 'A') //头像\r\n}, {\r\n 'name':'@cname()',\r\n 'account': Random.email(), //名称\r\n 'roles': ['normal'], //权限\r\n 'avatar': Random.image('32x32', '#4A7BF7', '#FFFFFF', 'N') //头像\r\n}]);\n\n\n// WEBPACK FOOTER //\n// ./src/mock/users.js"],"sourceRoot":""}
