webpackJsonp([11],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"clearfix",attrs:{id:"app"}},[e("router-view",{attrs:{name:"sidebar"}}),this._v(" "),e("router-view"),this._v(" "),e("router-view",{attrs:{name:"help"}}),this._v(" "),e("router-view",{attrs:{name:"appFooter"}})],1)},staticRenderFns:[]};var r=n("VU/8")(null,o,!1,function(t){n("WV4X")},null,null).exports,i=n("sUu7"),c=n("+8+3"),u=n.n(c);i.a.localize("zh_CN",u.a);i.a.localize({zh_CN:{messages:{email:function(){return"请输入正确的邮箱格式"},numeric:function(){return"只能填写数字"},required:function(){return"必填项"}},attributes:{email:"邮箱",mobile:"手机号"}}}),i.a.extend("mobile",{getMessage:function(){return"必须是11位手机号码"},validate:function(t){return 11===t.length&&/^((13|14|15|17|18)[0-9]{1}\d{8})$/.test(t)}});a.a.use(i.b,{errorBagName:"errors",delay:0,locale:"zh_CN",messages:null,strict:!0});var s=n("/ocq"),l=n("NYxO"),d=n("M4fF"),h=n.n(d),p=n("lbHh"),f=n.n(p),m={namespaced:!0,state:{isLogin:!1},mutations:{SET_USER:function(t,e){t=h.a.assign(t,e),f.a.set("accountData",t)},REMOVE_USER:function(t){t=h.a.assign(t,{isLogin:!1}),f.a.remove("accountData")}},actions:{setUser:function(t,e){(0,t.commit)("SET_USER",e)},removeUser:function(t){(0,t.commit)("REMOVE_USER")}}},v={path:"/login",name:"login",component:function(t){return n.e(2).then(function(){var e=[n("QlWu")];t.apply(null,e)}.bind(this)).catch(n.oe)}},g={path:"/role",name:"role",meta:{cn:"权限"},component:function(t){return n.e(8).then(function(){var e=[n("P2Xi")];t.apply(null,e)}.bind(this)).catch(n.oe)}};function R(){return v}var S={path:"/",name:"layout",components:{default:function(t){return n.e(4).then(function(){var e=[n("6KT8")];t.apply(null,e)}.bind(this)).catch(n.oe)},sidebar:function(t){return n.e(1).then(function(){var e=[n("J6W3")];t.apply(null,e)}.bind(this)).catch(n.oe)},help:function(t){return n.e(3).then(function(){var e=[n("IGO3")];t.apply(null,e)}.bind(this)).catch(n.oe)},appFooter:function(t){return n.e(7).then(function(){var e=[n("+L+F")];t.apply(null,e)}.bind(this)).catch(n.oe)}},redirect:"/index",children:[{path:"/index",name:"index",meta:{cn:"概况"},component:function(t){return n.e(5).then(function(){var e=[n("nU8l")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/module",name:"module",redirect:"/module/notify",meta:{cn:"组件"},component:function(t){return n.e(9).then(function(){var e=[n("Js1K")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"notify",name:"notify",meta:{cn:"消息通知"},component:function(t){return n.e(6).then(function(){var e=[n("UOI1")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"datePicker",name:"dataPicker",meta:{cn:"日历组件"},component:function(t){return n.e(0).then(function(){var e=[n("mqPQ")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}]};var b={namespaced:!0,state:{addRoutes:[]},mutations:{SET_ROUTERS:function(t,e){t.addRoutes.length=0,t.addRoutes=h.a.concat(t.addRoutes,e)}},actions:{getRoutes:function(t,e){var n=t.commit;-1!==h.a.indexOf(e,"admin")?n("SET_ROUTERS",(S.children=S.children.concat([g]),[R(),S])):n("SET_ROUTERS",[R(),S])}}},y={userInfo:function(t){return t.StoreUser},addRoutes:function(t){return t.StoreAddRoutes.addRoutes}};a.a.use(l.a);var E=new l.a.Store({modules:{StoreUser:m,StoreAddRoutes:b},getters:y});a.a.use(s.a);var U=new s.a({scrollBehavior:function(t,e,n){return n||{x:0,y:0}}});f.a.getJSON("accountData")&&f.a.getJSON("accountData").isLogin?(console.log("有cookie"),E.dispatch("StoreUser/setUser",f.a.getJSON("accountData")).then(function(){var t=E.getters.userInfo.roles;E.dispatch("StoreAddRoutes/getRoutes",t).then(function(){U.addRoutes(E.getters.addRoutes)})})):U.addRoutes([R()]),U.beforeEach(function(t,e,n){f.a.getJSON("accountData")&&f.a.getJSON("accountData").isLogin?n():"/login"===t.path?n():n("/login")});var _=U,O=n("mtWM"),N=n.n(O);a.a.prototype.$http=N.a;var x=new a.a({el:"#app",router:_,store:E,render:function(t){return t(r)}});a.a.use(x)},WV4X:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7e3c8b4285b97fc3d227.js.map